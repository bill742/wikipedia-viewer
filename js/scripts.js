function searchArticle(){var e=search.value;e=e.replace(/\s+/g,"%20"),""===e?$(".search-container").after("<p class='error'>Please enter a search query</p>"):($("p.error").hide(),$.ajax({type:"GET",url:"http://en.wikipedia.org/w/api.php?action=parse&format=json&prop=text&section=0&page="+e+"&callback=?",contentType:"application/json; charset=utf-8",async:!1,dataType:"json",success:function(t,a,o){var r=t.parse.text["*"],n=$("<div></div>").html(r);$(".read-more").remove(),n.find("a").each(function(){$(this).replaceWith($(this).html())}),n.find("sup").remove(),n.find(".mw-ext-cite-error").remove(),$("#output").html($(n).find("p")),$(".output").addClass("output-visible"),$("#output p:first-child").after('<p class="read-more"><a href="https://en.wikipedia.org/wiki/'+e+'" target="_blank">Read More</a></p>')},error:function(e){console.log("No article found")}}))}var output="";document.getElementById("search").onkeypress=function(e){13!=e.keyCode&&13!=e.which||searchArticle()},document.getElementById("random").onclick=function(){$.ajax({type:"GET",url:"http://en.wikipedia.org/w/api.php?action=query&format=json&rnlimit=1&list=random&callback=?",contentType:"application/json; charset=utf-8",async:!1,dataType:"json",success:function(e,t,a){console.log(e);var o=e.query.random[0].title,r=e.query.random[0].id;$(".output").addClass("output-visible"),output='<p class="some-class">'+o+"</p>",output+='<a class="read-more" href="https://en.wikipedia.org/w/api.php?action=query&prop=info&pageids='+r+'&inprop=url">Read More</a>',document.getElementById("output").innerHTML=output},error:function(e){console.log("No article found")}})};