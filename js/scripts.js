function searchArticle(){var e=search.value;e=e.replace(/\s+/g,"%20"),""===e?$(".search-container").after("<p class='error'>Please enter a search query</p>"):($("p.error").hide(),$.ajax({type:"GET",url:"https://en.wikipedia.org/w/api.php?action=query&format=json&generator=search&gsrnamespace=0&gsrsearch="+e+"&gsrlimit=5&callback=?",contentType:"application/json; charset=utf-8",async:!1,dataType:"json",success:function(t,a,r){console.log(t);var o=t.query.title,n=t.query.pages;$(".read-more").remove();for(var s in n)console.log(n[s].title);$(".output").addClass("output-visible"),$("#output p:first-child").after('<p class="read-more"><a href="https://en.wikipedia.org/wiki/'+e+'" target="_blank">Read More</a></p>'),$("#output p:first-child").css("display","block").before("<h2>"+o+"</h2>")},error:function(e){$(".output").addClass("output-visible"),output="<p>No results found.</p>",document.getElementById("output").innerHTML=output}}))}var output="";document.getElementById("search").onkeypress=function(e){13!=e.keyCode&&13!=e.which||searchArticle()},document.getElementById("random").onclick=function(){$.ajax({type:"GET",url:"http://en.wikipedia.org/w/api.php?action=query&generator=random&grnnamespace=0&prop=extracts&exchars=500&format=json&rnlimit=1&callback=?",contentType:"application/json; charset=utf-8",async:!1,dataType:"json",success:function(e,t,a){var r,o=e.query.pages;for(var n in o)if(o.hasOwnProperty(n)&&"function"!=typeof n){r=o[n];break}var s=r.title,i=r.extract,p=$(i).find("p"),c=p.prevObject[0].innerHTML,u=r.pageid;$(".output").addClass("output-visible"),output="<h2>"+s+"</h2>",output+='<div class="some-class">'+c+"</div>",output+='<p class="read-more"><a href="http://en.wikipedia.org/wiki?curid='+u+'" target="_blank">Read More</a></p>',document.getElementById("output").innerHTML=output},error:function(e){console.log("No article found")}})};